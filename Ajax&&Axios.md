## 跨域
* 域名组成部分
> http://www.damao2250.com:8080/script/jquery.js

| http:// | www.   | damao2250.com | :8080  | /script/jquery.js |
|---------|--------|---------------|-------|-------------------|
| 协议    | 子域名  |    主域名     | 端口号 | 
* 什么是跨域

    1. 当协议、子域名、主域名、端口号中任意一个不相同时，都算作不同域。不同域之间相互请求资源，就算作“跨域”。
    2. 之所以会跨域，是因为受到了同源策略的限制，同源策略要求源相同才能正常进行通信，即协议、域名、端口号都完全一致。

    注意：
    1. 跨域并不是请求发不出去，请求能发出去，服务端能收到请求并正常返回结果，只是结果被浏览器拦截了。
    2. 如果是协议和端口造成的跨域问题“前台”是无能为力的。
    3. 在跨域问题上，域仅仅是通过“URL的首部”来识别而不会根据域名对应的IP地址是否相同来判断。“URL的首部”可以理解为“协议, 域名和端口必须匹配”。

* 什么是同源策略及其限制

    1. 同源策略限制从一个源加载的文档或脚本如何与来自另一个源的资源进行交互。
    2. 这是一个用于隔离潜在恶意文件的关键的安全机制。
    3. 它的存在可以保护用户隐私信息，防止身份伪造等(读取Cookie)。

    同源策略限制内容有：
    1. Cookie、LocalStorage、IndexedDB 等存储性内容
    2. DOM 节点
    3. AJAX 请求不能发送

    但是有三个标签是允许跨域加载资源：
    ```html
    1. <img src=XXX>
    2. <link href=XXX>
    3. <script src=XXX>
    ```

* 处理跨域方法一——JSONP
* 处理跨域方法二——CORS
* 处理跨域方法三——WebSocket
* 处理跨域方法四——postMessage

    


